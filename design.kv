
############################### Main App Screens ####################
<WelcomeScreen>:
    BoxLayout:
        orientation: 'horizontal'

        AddElemntsWidget:

        NetworkWidget:

<AddElemntsWidget>:

    BoxLayout:
        orientation: "vertical"
        size: root.width, 40



    #################### ADD PIPES WIDGET ####################
        BoxLayout: 
            orientation: "vertical"
            size: root.width, root.height
            
            GridLayout:
                cols: 2
                rows: 8
                padding: 15,15 # distance from borders
                spacing: 5,5 # distance bettwen widgets
                ########### ROW 1 ###########
                Label:
                    text: "Add pipe:"
                    font_size: '18sp' # sp = space-independent pixels
                    width: '150dp'
                    height: '40dp'
                    halign: 'center'
                    valign: 'center'

                Label:
                    text: ""
                    font_size: '18sp' # sp = space-independent pixels
                    width: '150dp'
                    height: '40dp'
                    halign: 'center'
                    valign: 'center'

                ########### ROW 2 ###########

                Label:
                    text: "Pipe type:"
                    text_size: self.width, self.height # None #self.height 
                    # size_hint_y: None
                    # height: self.texture_size[1]
                    size_hint: 0.2,None
                    height: '20sp'
                    font_size: '15sp' # sp = space-independent pixels
                    halign: 'center'

                Spinner:
                    id: pipe_spinner
                    width: '150dp'
                    height: '20dp'
                    text: "Pipe type:"
                    values: ["Steel","PE100-16","PE100-12.5","PE100-10"]
                    on_text: root.pipe_spinner_clicked(root.ids.pipe_spinner.text)
                ########### ROW 2 ###########
                Label:
                    text: "Nd:"
                    size_hint: 0.2,None
                    height: '20sp'
                    # text_size: self.width, None #self.height 
                    # size_hint_y: None
                    # height: self.texture_size[1]
                    font_size: '15sp' # sp = space-independent pixels
                    halign: 'center'

                Spinner:
                    # size_hint: None,None
                    width: '150dp'
                    height: '20dp'
                    id: nominal_dia_spinner
                    text: "Nominal diameter"
                    values: root.nominal_dia_list
                    # on_text: root.find_diameter(root.ids.nominal_dia_spinner.text, root.ids.pipe_spinner_id.text)
                ########### ROW 3 ###########
                Label:
                    text: "consumption [m^3/hr]:"
                    # width: '150dp'
                    # height: '20dp'
                    size_hint: 0.2,None
                    height: '25dp'
                    font_size: '15sp' # sp = space-independent pixels
                    valign: 'center'
                    halign: 'center'
                
                TextInput:
                    id: consumption
                    hint_text: "consumption"
                    width: '150dp'
                    height: '20dp'
                    multiline: False
                    halign: 'center'
                
                ########### ROW 4 ###########
                Label:
                    text: "minimum pressure [m]:"
                    # width: '150dp'
                    # height: '20dp'
                    size_hint: 0.2,None
                    height: '25dp'
                    font_size: '15sp' # sp = space-independent pixels
                    valign: 'center'
                    halign: 'center'
                
                TextInput:
                    id: minimum_pressure
                    hint_text: "min_pressure"
                    width: '150dp'
                    height: '20dp'
                    multiline: False
                    halign: 'center'

                ########### ROW 5 ###########
                
                Label:
                    text: "start elevation: "
                    # width: '150dp'
                    # height: '20dp'
                    size_hint: 0.2,None
                    height: '25dp'
                    font_size: '15sp' # sp = space-independent pixels
                    valign: 'center'
                    halign: 'center'
                
                TextInput:
                    id: start_z
                    hint_text: "start elevation(from dwg)"
                    width: '150dp'
                    height: '20dp'
                    multiline: False  
                    halign: 'center'             

                ########### ROW 6 ###########

                Label:
                    text: "end elevation:"
                    # width: '150dp'
                    # height: '20dp'
                    size_hint: 0.2,None
                    height: '25dp'
                    font_size: '15sp' # sp = space-independent pixels
                    valign: 'center'
                    halign: 'center'
                
                TextInput:
                    id: end_z
                    hint_text: "end elevation(from dwg)"
                    width: '150dp'
                    height: '20dp'
                    multiline: False 
                    halign: 'center' 

                ########### ROW 7 ###########

                Button:
                    text: "Select a Pipe"
                    # width: '150dp'
                    # height: '20dp'
                    size_hint: 0.2,None
                    height: '25dp'
                    on_press: root.create_a_pipe(root.ids.pipe_spinner.text, root.ids.nominal_dia_spinner.text, root.ids.consumption.text)
                
                Button:
                    text: "Draw a Pipe"
                    on_press: root.draw_a_pipe(root.ids.pipe_spinner.text, root.ids.nominal_dia_spinner.text, root.ids.consumption.text, root.ids.start_z.text, root.ids.end_z.text)
            
            GridLayout:
                cols:1
                size_hint: 1,0.25
                
                ScrollView:
                    Label:
                        # size_hint: 0.2,0.1
                        id: pipe_error_message
                        color: 1,0,0,1
                        text: ""
                        font_size: '15sp' # sp = space-independent pixels
                        text_size: self.width, None #self.height
                        size_hint_y: None
                        height: self.texture_size[1] # Dinamic: texture_size - tyupple the first is width and the second is height
                        halign: 'center'
                        valign: 'center'

    #################### ADD PUMP WIDGET ####################
        BoxLayout: 
            orientation: "vertical"
            size: root.width, root.height

            GridLayout:
                cols: 2
                rows: 3
                padding: 15,15 # distance from borders
                spacing: 20,20 # distance bettwen widgets
                ########### ROW 1 ###########
                Label:
                    text: "Add pump:"
                    font_size: '18sp' # sp = space-independent pixels
                    halign: 'center'
                    valign: 'center'
                
                Label:
                    text: ""
                    font_size: '18sp' # sp = space-independent pixels
                    halign: 'center'
                    valign: 'center'

                ########### ROW 2 ###########

                Label:
                    text: "efficiency [%]:"
                    text_size: self.width, self.height # None #self.height 
                    font_size: '15sp' # sp = space-independent pixels
                    halign: 'center'
                    size_hint: 0.2,None
                    height: '25dp'

                TextInput:
                    id: efficiency
                    hint_text: "efficiency (defult value = 0.75)"
                    text_size: self.width,self.height # None 
                    multiline: False

                ########### ROW 3 ###########
                Label:
                    text: "starts per hour:"
                    # text_size: self.width, None #self.height 
                    # size_hint_y: None
                    size_hint: 0.2,None
                    height: '25dp'
                    # height: self.texture_size[1]
                    font_size: '15sp' # sp = space-independent pixels
                    halign: 'center'

                TextInput:
                    id: starts_per_hour
                    hint_text: "starts per hour:"
                    text_size: self.width,self.height # None 
                    multiline: False
                
            GridLayout:
                cols: 1
                padding: 15,15 # distance from borders
                spacing: 20,20 # distance bettwen widgets
                
                Button:
                    text: "Select a Pump"
                    on_press: root.create_a_pump(root.ids.efficiency.text, root.ids.starts_per_hour.text)
            
            GridLayout:
                cols:1
                size_hint: 1,0.25
                
                ScrollView:
                    Label:
                        # size_hint: 0.2,0.1
                        id: pump_error_message
                        color: 1,0,0,1
                        text: ""
                        font_size: '15sp' # sp = space-independent pixels
                        text_size: self.width, None #self.height
                        size_hint_y: None
                        height: self.texture_size[1] # Dinamic: texture_size - tyupple the first is width and the second is height
                        halign: 'center'
                        valign: 'center'

<NetworkWidget>:
    
    BoxLayout:
        orientation:'vertical'

        Button:
            text: 'Calculate the network'
            on_press: root.calculate_the_network() 

        GridLayout:
            cols: 2

            Button:
                text: 'Optimize from max velocity'
                on_press: root.calculate_with_max_velocity(root.ids.velocity.text)

            TextInput:
                id: velocity
                hint_text: "max velocity (defult value=2.5)"
                text_size: self.width,self.height # None 
                multiline: False

            Button:
                text: 'Create Pipe section'
                on_press: root.make_a_sec()

            Button:
                text: 'Save to Excel'
                on_press: root.save_to_excel()
        GridLayout:
            cols: 1
            
            Button:
                text: 'Open water calculator'
                on_press: root.open_calculator()

# <TableWidget>:


<RootWidget>:

    # TableWidget:
    #     name: 'table_widget'

    WelcomeScreen:
        name: 'welcome_screen'

    NetworkWidget:
        name: 'network_widget'

    AddElemntsWidget:
        name: 'add_elemnts_widget'
